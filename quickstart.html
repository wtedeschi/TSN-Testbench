<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quick Start Guide &mdash; Linux TSN Testbench v4.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=f4512df4"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contribution" href="contribution.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Linux TSN Testbench
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick Start Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hardware">Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linux">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contribution.html">Contribution</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="build.html">Build</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mqtt.html">MQTT and Grafana Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="test.html">Test runs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="debug.html">Debug</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="qa.html">Quality Assurance</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Linux TSN Testbench</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Quick Start Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/quickstart.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="quick-start-guide">
<span id="quickstart"></span><h1>Quick Start Guide<a class="headerlink" href="#quick-start-guide" title="Permalink to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h2>
<p>The following sections provide an overview how to quickly setup the Linux TSN Testbench. It includes
suited and available hardware as well as the recommended Linux system.</p>
</section>
<section id="hardware">
<h2>Hardware<a class="headerlink" href="#hardware" title="Permalink to this heading"></a></h2>
<p>The Linux TSN Testbench runs well on x86 processors with Intel i225/i226 TSN NIC(s). These network
cards include capabilities such time synchronization via PTP, 802.1Qav, 802.1Qbv, Tx Launch Time and
multi queue. Furthermore, the NIC(s) are connected via PCIe and can be used in any system with
corresponding PCIe slots.</p>
<p>Example industrial PCs are:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://up-shop.org/default/up-squared-pro-7000-edge-series.html">https://up-shop.org/default/up-squared-pro-7000-edge-series.html</a></p></li>
<li><p><a class="reference external" href="https://www.kontron.com/en/products/kbox-c-104-tgl/p173851">https://www.kontron.com/en/products/kbox-c-104-tgl/p173851</a></p></li>
</ul>
<p>Two machines are required at minimum. One to run the <code class="docutils literal notranslate"><span class="pre">reference</span></code> application and one to execute
the <code class="docutils literal notranslate"><span class="pre">mirror</span></code>. Network switches can be used as well. However, the switches should support 802.1AS
for the time synchronization via PTP.</p>
</section>
<section id="linux">
<h2>Linux<a class="headerlink" href="#linux" title="Permalink to this heading"></a></h2>
<p>The recommend Linux distribution is Debian Stable (Bookworm). It includes all necessary libraries
and tools to run the Linux TSN Testbench. Debian can be installed on any PC by using the Debian
installer:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.debian.org/distrib/">https://www.debian.org/distrib/</a></p></li>
</ul>
<p>Once Debian is and up and running the Linux TSN Testbench and its dependencies can be installed:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install dependencies</span>
apt<span class="w"> </span>update
apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>build-essential<span class="w"> </span>clang<span class="w"> </span>llvm<span class="w"> </span>cmake<span class="w"> </span>pkg-config<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>libbpf-dev<span class="w"> </span>libyaml-dev<span class="w"> </span>libc6-dev<span class="w"> </span>rt-tests<span class="w"> </span>ethtool<span class="w"> </span>iproute2<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>iperf3<span class="w"> </span>linuxptp<span class="w"> </span>libxdp-dev<span class="w"> </span>libssl-dev<span class="w"> </span>libmosquitto-dev<span class="w"> </span>git

<span class="c1"># Install Linux TSN Testbench</span>
git<span class="w"> </span>clone<span class="w"> </span>https://www.github.com/Linutronix/TSN-Testbench
mkdir<span class="w"> </span>-p<span class="w"> </span>TSN-Testbench/build
<span class="nb">cd</span><span class="w"> </span>TSN-Testbench/build
cmake<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Release<span class="w"> </span>-DCMAKE_INSTALL_PREFIX<span class="o">=</span>/usr<span class="w"> </span>-DWITH_MQTT<span class="o">=</span>TRUE<span class="w"> </span>..
make<span class="w"> </span>-j<span class="sb">`</span>nproc<span class="sb">`</span>
make<span class="w"> </span>install
</pre></div>
</div>
<p>The applications require a Linux real time kernel with PREEMPT_RT. On Debian the kernel can be
simply installed via the package management:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install real time Linux kernel</span>
apt<span class="w"> </span>update
apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>linux-image-rt-amd64
</pre></div>
</div>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h2>
<p>In addition, the Linux TSN Testbench requires a configuration. That is used to specify what and how
many frames are transmitted and received. Furthermore, it specifies system parameters such as what
priorities, queues and CPU(s) are used. Example configurations are provided, but have to be adjusted
to the particular systems. At least, the names of the network interfaces and the MAC/IP addresses
have to be changed.</p>
<p>Starting point for PROFINET TSN:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/Linutronix/TSN-Testbench/tree/main/tests/profinet">https://github.com/Linutronix/TSN-Testbench/tree/main/tests/profinet</a></p></li>
</ul>
<p>Starting point for OPC/UA:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/Linutronix/TSN-Testbench/tree/main/tests/opcua">https://github.com/Linutronix/TSN-Testbench/tree/main/tests/opcua</a></p></li>
</ul>
<p>As soon as the configuration files are created, the <code class="docutils literal notranslate"><span class="pre">reference</span></code> and <code class="docutils literal notranslate"><span class="pre">mirror</span></code> application can be
started on two different nodes in the network. The <code class="docutils literal notranslate"><span class="pre">reference</span></code> logs the statistics for
analysis. For a graphical visualization with Grafana, see:
<a class="reference external" href="https://linutronix.github.io/TSN-Testbench/mqtt.html">https://linutronix.github.io/TSN-Testbench/mqtt.html</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="introduction.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="contribution.html" class="btn btn-neutral float-right" title="Contribution" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2024, Linutronix GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>